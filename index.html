<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Raksha Bandhan Greeting</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes float {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
    }
    .float {
      animation: float 10s linear infinite;
    }
    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1;
      pointer-events: none;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-pink-200 via-yellow-100 to-purple-200 min-h-screen flex items-center justify-center overflow-hidden relative">

  <!-- Fireworks -->
  <canvas id="fireworks"></canvas>

  <!-- Floating Flowers -->
  <script>
    for (let i = 0; i < 15; i++) {
      const flower = document.createElement("img");
      flower.src = "./flower.png"; // You can replace with your flower PNG URL
      flower.className = "absolute pointer-events-none float";
      flower.style.left = Math.random() * 100 + "vw";
      flower.style.top = "100vh";
      flower.style.width = flower.style.height = Math.random() * 30 + 20 + "px";
      flower.style.animationDelay = (Math.random() * 10) + "s";
      document.body.appendChild(flower);
    }
  </script>

  <!-- Greeting Card -->
  <div class="bg-white/90 rounded-xl shadow-xl p-4 sm:p-6 max-w-sm sm:max-w-xl z-10 mx-4 backdrop-blur-md">
    <pre id="message" class="text-gray-800 text-sm sm:text-base font-mono whitespace-pre-wrap"></pre>
  </div>

  <!-- Background Music -->
  <audio autoplay loop>
    <source src="rakhi-music.mp3" type="audio/mpeg" />
    Your browser does not support the audio element.
  </audio>

  <!-- Typing Animation -->
  <script>
    const message = `
Dear Sister,

On this special occasion of Raksha Bandhan,
I want you to know how much you mean to me.
Your love, care, and presence make life beautiful.

Wishing you joy, success, and all the happiness in the world.

Happy Raksha Bandhan!

With love,
Your Brother ❤️
    `;
    const messageElement = document.getElementById("message");
    let index = 0;
    function type() {
      if (index < message.length) {
        messageElement.textContent += message.charAt(index);
        index++;
        setTimeout(type, 50);
      }
    }
    window.onload = type;
  </script>

  <!-- Fireworks Animation -->
  <script>
    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    window.addEventListener("resize", () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    let fireworks = [];

    function Firework() {
      this.x = Math.random() * canvas.width;
      this.y = canvas.height;
      this.targetY = Math.random() * canvas.height / 2;
      this.color = `hsl(${Math.random() * 360}, 100%, 70%)`;
      this.size = 2;
      this.speed = Math.random() * 3 + 2;
    }

    Firework.prototype.update = function () {
      this.y -= this.speed;
    };

    Firework.prototype.draw = function () {
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
      ctx.fillStyle = this.color;
      ctx.fill();
    };

    function animateFireworks() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      if (Math.random() < 0.1) {
        fireworks.push(new Firework());
      }
      fireworks.forEach((f, i) => {
        f.update();
        f.draw();
        if (f.y < f.targetY) fireworks.splice(i, 1);
      });
      requestAnimationFrame(animateFireworks);
    }

    animateFireworks();
  </script>

</body>
</html>
